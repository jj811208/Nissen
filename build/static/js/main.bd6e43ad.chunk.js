(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(t,a,e){t.exports=e.p+"static/media/logo.5d5d9eef.svg"},,function(t,a,e){t.exports=e.p+"static/media/lemon.5ace125f.mid"},function(t,a,e){t.exports=e.p+"static/media/A0.55bad57e.wav"},function(t,a,e){t.exports=e.p+"static/media/A1.e6665d28.wav"},function(t,a,e){t.exports=e.p+"static/media/A2.ffae8348.wav"},function(t,a,e){t.exports=e.p+"static/media/A3.da6a8aa5.wav"},function(t,a,e){t.exports=e.p+"static/media/A4.d73cabf6.wav"},function(t,a,e){t.exports=e.p+"static/media/A5.37655296.wav"},function(t,a,e){t.exports=e.p+"static/media/A6.9e62a1d1.wav"},function(t,a,e){t.exports=e.p+"static/media/As0.43185359.wav"},function(t,a,e){t.exports=e.p+"static/media/As1.6d0a31ab.wav"},function(t,a,e){t.exports=e.p+"static/media/As2.775f7d0c.wav"},function(t,a,e){t.exports=e.p+"static/media/As3.4d882a00.wav"},function(t,a,e){t.exports=e.p+"static/media/As4.a598d864.wav"},function(t,a,e){t.exports=e.p+"static/media/As5.b36a3b4f.wav"},function(t,a,e){t.exports=e.p+"static/media/As6.a0e61679.wav"},function(t,a,e){t.exports=e.p+"static/media/B0.a1cb8b82.wav"},function(t,a,e){t.exports=e.p+"static/media/B1.a306b1aa.wav"},function(t,a,e){t.exports=e.p+"static/media/B2.d779f678.wav"},function(t,a,e){t.exports=e.p+"static/media/B3.8f63bb62.wav"},function(t,a,e){t.exports=e.p+"static/media/B4.2f51ebf5.wav"},function(t,a,e){t.exports=e.p+"static/media/B5.ad696f7f.wav"},function(t,a,e){t.exports=e.p+"static/media/B6.0159fbf4.wav"},function(t,a,e){t.exports=e.p+"static/media/C0.b7c2f2c1.wav"},function(t,a,e){t.exports=e.p+"static/media/C1.35518a7d.wav"},function(t,a,e){t.exports=e.p+"static/media/C2.dda39adc.wav"},function(t,a,e){t.exports=e.p+"static/media/C3.0be5311b.wav"},function(t,a,e){t.exports=e.p+"static/media/C4.1dfeaa09.wav"},function(t,a,e){t.exports=e.p+"static/media/C5.8f711432.wav"},function(t,a,e){t.exports=e.p+"static/media/C6.203f5eb7.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs0.a7648be8.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs1.99ecb003.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs2.1f7f4dd9.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs3.fc385203.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs4.bab03f8c.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs5.95ae7cd6.wav"},function(t,a,e){t.exports=e.p+"static/media/Cs6.1412a54d.wav"},function(t,a,e){t.exports=e.p+"static/media/D0.95ecedd2.wav"},function(t,a,e){t.exports=e.p+"static/media/D1.4c24fb28.wav"},function(t,a,e){t.exports=e.p+"static/media/D2.5bea68b7.wav"},function(t,a,e){t.exports=e.p+"static/media/D3.6247322f.wav"},function(t,a,e){t.exports=e.p+"static/media/D4.bd35c19d.wav"},function(t,a,e){t.exports=e.p+"static/media/D5.8856b898.wav"},function(t,a,e){t.exports=e.p+"static/media/D6.e926b007.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds0.cd6a0599.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds1.2d001db1.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds2.bb27efb1.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds3.b3f1b57d.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds4.2716ade6.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds5.2958c5ca.wav"},function(t,a,e){t.exports=e.p+"static/media/Ds6.0306d567.wav"},function(t,a,e){t.exports=e.p+"static/media/E0.31dfb23f.wav"},function(t,a,e){t.exports=e.p+"static/media/E1.bb5c2154.wav"},function(t,a,e){t.exports=e.p+"static/media/E2.ddc00192.wav"},function(t,a,e){t.exports=e.p+"static/media/E3.c700eea2.wav"},function(t,a,e){t.exports=e.p+"static/media/E4.2cc96930.wav"},function(t,a,e){t.exports=e.p+"static/media/E5.8e3475a3.wav"},function(t,a,e){t.exports=e.p+"static/media/E6.913120da.wav"},function(t,a,e){t.exports=e.p+"static/media/F0.51c1291b.wav"},function(t,a,e){t.exports=e.p+"static/media/F1.8de627a7.wav"},function(t,a,e){t.exports=e.p+"static/media/F2.d5718aae.wav"},function(t,a,e){t.exports=e.p+"static/media/F3.a8f31c25.wav"},function(t,a,e){t.exports=e.p+"static/media/F4.8a38f56e.wav"},function(t,a,e){t.exports=e.p+"static/media/F5.7948d726.wav"},function(t,a,e){t.exports=e.p+"static/media/F6.0715ffe3.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs0.3cc0f455.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs1.6752efe9.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs2.848d9637.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs3.02ef6da4.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs4.06299bfb.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs5.a97772fe.wav"},function(t,a,e){t.exports=e.p+"static/media/Fs6.4e8fa579.wav"},function(t,a,e){t.exports=e.p+"static/media/G0.9afa156a.wav"},function(t,a,e){t.exports=e.p+"static/media/G1.777d423a.wav"},function(t,a,e){t.exports=e.p+"static/media/G2.cf52d708.wav"},function(t,a,e){t.exports=e.p+"static/media/G3.146a244a.wav"},function(t,a,e){t.exports=e.p+"static/media/G4.151cf8d0.wav"},function(t,a,e){t.exports=e.p+"static/media/G5.f6ec5736.wav"},function(t,a,e){t.exports=e.p+"static/media/G6.1251326d.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs0.451faa2d.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs1.500fb460.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs2.36ae9a32.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs3.c3d31c76.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs4.c9f62960.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs5.88550874.wav"},function(t,a,e){t.exports=e.p+"static/media/Gs6.c867a170.wav"},function(t,a,e){t.exports=e(100)},,,,,,function(t,a,e){},function(t,a,e){},function(t,a,e){"use strict";e.r(a);var n=e(0),i=e.n(n),o=e(4),c=e.n(o),s=(e(98),e(2)),r=e(5),p=e.n(r),u=e(6),d=e.n(u),f=e(1),m=e.n(f),v=(e(99),e(7)),w=e.n(v),l=e(8),x=e.n(l),b=e(9),g=e.n(b),A=e(10),h=e.n(A),F=e(11),C=e.n(F),E=e(12),G=e.n(E),D=e(13),M=e.n(D),k=e(14),B=e.n(k),R=e(15),j=e.n(R),y=e(16),O=e.n(y),S=e(17),U=e.n(S),q=e(18),N=e.n(q),T=e(19),z=e.n(T),J=e(20),L=e.n(J),W=e(21),H=e.n(W),I=e(22),P=e.n(I),V=e(23),$=e.n(V),K=e(24),Q=e.n(K),X=e(25),Y=e.n(X),Z=e(26),_=e.n(Z),tt=e(27),at=e.n(tt),et=e(28),nt=e.n(et),it=e(29),ot=e.n(it),ct=e(30),st=e.n(ct),rt=e(31),pt=e.n(rt),ut=e(32),dt=e.n(ut),ft=e(33),mt=e.n(ft),vt=e(34),wt=e.n(vt),lt=e(35),xt=e.n(lt),bt=e(36),gt=e.n(bt),At=e(37),ht=e.n(At),Ft=e(38),Ct=e.n(Ft),Et=e(39),Gt=e.n(Et),Dt=e(40),Mt=e.n(Dt),kt=e(41),Bt=e.n(kt),Rt=e(42),jt=e.n(Rt),yt=e(43),Ot=e.n(yt),St=e(44),Ut=e.n(St),qt=e(45),Nt=e.n(qt),Tt=e(46),zt=e.n(Tt),Jt=e(47),Lt=e.n(Jt),Wt=e(48),Ht=e.n(Wt),It=e(49),Pt=e.n(It),Vt=e(50),$t=e.n(Vt),Kt=e(51),Qt=e.n(Kt),Xt=e(52),Yt=e.n(Xt),Zt=e(53),_t=e.n(Zt),ta=e(54),aa=e.n(ta),ea=e(55),na=e.n(ea),ia=e(56),oa=e.n(ia),ca=e(57),sa=e.n(ca),ra=e(58),pa=e.n(ra),ua=e(59),da=e.n(ua),fa=e(60),ma=e.n(fa),va=e(61),wa=e.n(va),la=e(62),xa=e.n(la),ba=e(63),ga=e.n(ba),Aa=e(64),ha=e.n(Aa),Fa=e(65),Ca=e.n(Fa),Ea=e(66),Ga=e.n(Ea),Da=e(67),Ma=e.n(Da),ka=e(68),Ba=e.n(ka),Ra=e(69),ja=e.n(Ra),ya=e(70),Oa=e.n(ya),Sa=e(71),Ua=e.n(Sa),qa=e(72),Na=e.n(qa),Ta=e(73),za=e.n(Ta),Ja=e(74),La=e.n(Ja),Wa=e(75),Ha=e.n(Wa),Ia=e(76),Pa=e.n(Ia),Va=e(77),$a=e.n(Va),Ka=e(78),Qa=e.n(Ka),Xa=e(79),Ya=e.n(Xa),Za=e(80),_a=e.n(Za),te=e(81),ae=e.n(te),ee=e(82),ne=e.n(ee),ie=e(83),oe=e.n(ie),ce=e(84),se=e.n(ce),re=e(85),pe=e.n(re),ue=e(86),de=e.n(ue),fe=e(87),me=e.n(fe),ve=e(88),we=e.n(ve),le=e(89),xe=e.n(le),be=e(90),ge=e.n(be),Ae=e(91),he=e.n(Ae),Fe={A0:x.a,A1:g.a,A2:h.a,A3:C.a,A4:G.a,A5:M.a,A6:B.a,"A#0":j.a,"A#1":O.a,"A#2":U.a,"A#3":N.a,"A#4":z.a,"A#5":L.a,"A#6":H.a,B0:P.a,B1:$.a,B2:Q.a,B3:Y.a,B4:_.a,B5:at.a,B6:nt.a,C0:ot.a,C1:st.a,C2:pt.a,C3:dt.a,C4:mt.a,C5:wt.a,C6:xt.a,"C#0":gt.a,"C#1":ht.a,"C#2":Ct.a,"C#3":Gt.a,"C#4":Mt.a,"C#5":Bt.a,"C#6":jt.a,D0:Ot.a,D1:Ut.a,D2:Nt.a,D3:zt.a,D4:Lt.a,D5:Ht.a,D6:Pt.a,"D#0":$t.a,"D#1":Qt.a,"D#2":Yt.a,"D#3":_t.a,"D#4":aa.a,"D#5":na.a,"D#6":oa.a,E0:sa.a,E1:pa.a,E2:da.a,E3:ma.a,E4:wa.a,E5:xa.a,E6:ga.a,F0:ha.a,F1:Ca.a,F2:Ga.a,F3:Ma.a,F4:Ba.a,F5:ja.a,F6:Oa.a,"F#0":Ua.a,"F#1":Na.a,"F#2":za.a,"F#3":La.a,"F#4":Ha.a,"F#5":Pa.a,"F#6":$a.a,G0:Qa.a,G1:Ya.a,G2:_a.a,G3:ae.a,G4:ne.a,G5:oe.a,G6:se.a,"G#0":pe.a,"G#1":de.a,"G#2":me.a,"G#3":we.a,"G#4":xe.a,"G#5":ge.a,"G#6":he.a},Ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.sampleRate||44100,e=t.minFrequency||82,n=t.maxFrequency||1e3,i=t.sensitivity||.1,o=t.ratio||5,c=[],s=Math.ceil(a/e),r=Math.floor(a/n);return function(t){var e,n,p,u,d,f,m,v,w=t.length,l=0,x=1/0,b=-1/0;for(u=0;u<w;u++)if(r<=u&&u<=s){for(m=0,v=u,l=0,e=[],n=[];m<w-u;l++,v++,m++)e[l]=t[m],n[l]=t[v];var g=e.length;for(p=[],f=0;f<g;f++)p[f]=e[f]-n[f];var A=0;for(f=0;f<g;f++)A+=Math.abs(p[f]);c[u]=A}for(d=r;d<s;d++)c[d]<x&&(x=c[d]),c[d]>b&&(b=c[d]);var h=Math.round(i*(b-x)+x);for(d=r;d<=s&&c[d]>h;d++);var F=r/2;x=c[d];var C=d;for(u=d-1;u<d+F&&u<=s;u++)c[u]<x&&(x=c[u],C=u);return Math.round(c[C]*o)<b?a/C:null}},Ee=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Ge=["\u4f4e\u4f4e\u4f4e\u4f4e\u4f4e\u97f3","\u4f4e\u4f4e\u4f4e\u4f4e\u97f3","\u4f4e\u4f4e\u4f4e\u97f3","1","2","3","4","5","\u9ad8\u9ad8\u9ad8\u97f3","\u9ad8\u9ad8\u9ad8\u9ad8\u97f3","\u9ad8\u9ad8\u9ad8\u9ad8\u9ad8\u97f3"],De={},Me=[],ke=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,Be=window.cancelAnimationFrame||window.mozCancelAnimationFrame;window.AudioContext=window.AudioContext||window.webkitAudioContext;var Re=new m.a.Sampler(Fe,function(){console.log("ok")}).toMaster(),je=function(t){var a=Object(n.useState)("-"),e=Object(s.a)(a,2),o=e[0],c=e[1],r=Object(n.useState)("-"),p=Object(s.a)(r,2),u=p[0],d=p[1],f=Object(n.useState)(!1),v=Object(s.a)(f,2),w=v[0],l=v[1],x=Object(n.useRef)(!1),b=Object(n.useRef)(null),g=Object(n.useRef)(new AudioContext),A=Object(n.useRef)(null),h=Object(n.useRef)(new Float32Array(1024)),F=Object(n.useMemo)(Ce,[]),C=function(t){for(var a=[],e=0;e<t.length;e++){for(var n=0,i=e+1;i<t.length&&(t[e].pitch!==t[i].pitch&&n++,!(n>=6));i++);var o=i-n<=t.length-1?i-n:t.length-1,c=(t[o].time-t[e].time)/1e3;a.push({pitch:t[e].pitch,sec:c,count:o-e}),e=o}var s=[],r=0;a.forEach(function(t,a){t.count<6?a-++r>0&&(s[a-r].sec+=t.sec,s[a-r].count+=t.count):s.push({pitch:t.pitch,sec:t.sec,count:t.count})}),console.log(s);var p=0,u=m.a.now()+1;s.forEach(function(t,a){Re.triggerAttackRelease(t.pitch,t.sec,.5+(p+.001)+u),p+=t.sec+.001})},E=function t(){A.current.getFloatTimeDomainData(h.current);var a,e=function(t){var a=Math.log(t/440)/Math.log(2)*12;return Math.round(a)+69}(F(h.current))+13,n=Ee[(a=e)%12]+Ge[Math.floor(a/12)];e<36||e>95?(d("-"),c("-")):(d(e),c(n),x.current&&(Me.push({pitch:n,time:(new Date).getTime()}),De[n]=De[n]?De[n]+1:1)),b.current=ke(t)},G=Object(n.useMemo)(function(){return{display:"inline-block",cursor:"pointer",border:"solid 2px #eee",borderRadius:"4px",padding:"4px 8px"}},[]),D=Object(n.useMemo)(function(){return{display:"inline-block",cursor:"pointer",border:"solid 2px #eee",borderRadius:"4px",padding:"4px 8px",marginTop:"8px"}},[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:function(){null!==b.current?w?(Be(b.current),l(!1)):(E(),l(!0)):function(t,a,e){try{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia(t,a,e)}catch(n){alert("getUserMedia threw exception :"+n)}}({audio:{mandatory:{googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googNoiseSuppression2:!0,googEchoCancellation2:!0,googAutoGainControl2:!0},optional:[]}},function(t){var a=g.current.createMediaStreamSource(t);A.current=g.current.createAnalyser(),a.connect(A.current),l(!0),E()},function(){alert("getUserMedia\u5931\u6557")})},style:G},w?"\u95dc\u9589\u9ea5\u514b\u98a8":"\u958b\u555f\u9ea5\u514b\u98a8"),i.a.createElement("div",{onClick:function(){x.current?(C(Me),De={},Me=[],x.current=!1,d(",")):(x.current=!0,d("."))},style:D},x.current?"  \u6f14\u594f  ":"\u4eba\u8072\u8f49\u6a02\u5668\u9304\u88fd"),i.a.createElement("div",null,"isRecord:",w?"TRUE":"FALSE"),i.a.createElement("div",null,"isCatchVoice:",x.current?"TRUE":"FALSE"),i.a.createElement("div",null,"note:",u),i.a.createElement("div",null,"pitch:",o))};var ye=function(){var t=i.a.useState(null),a=Object(s.a)(t,2),e=a[0],n=a[1];return i.a.useEffect(function(){d.a.fromUrl(w.a).then(function(t){n(t),console.log("okk")})},[]),i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),i.a.createElement(je,null)),i.a.createElement("button",{onClick:function(){console.log(e);var t=m.a.now()+1.5;console.log(t),e.tracks.forEach(function(a){var e=null;new Promise(function(t){e=new m.a.Sampler(Fe,function(){t()}).toMaster()}).then(function(){a.notes.forEach(function(a){e.triggerAttackRelease(a.name,a.duration,a.time+t,a.velocity)})})})},type:"button"},"Start"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[92,1,2]]]);
//# sourceMappingURL=main.bd6e43ad.chunk.js.map